"use strict";(self.webpackChunke_commerce_app=self.webpackChunke_commerce_app||[]).push([[210],{210:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var r=a(6746),n=a(7574);var t=a(9593),o=a(5577),l=a(2241),i=a.n(l);let d={"string.alphanum":"Username must contain only letters and numbers","string.min":"Username must be at least 3 characters long","string.max":"Username must not exceed 30 characters","string.empty":"Username is required"},m={"string.email":"Email must be in a valid format (e.g., user@domain.com)","string.empty":"Email is required"},c={"string.empty":"Phone Number is required","string.pattern.base":"Phone Number must be valid phone number"},u={"string.empty":"Address is required","string.base":"Address is required"},p={"string.pattern.base":"Password must be between 8 and 30 characters, containing only letters and numbers","string.empty":"Password is required"},g={"any.only":"Password and confirmation must match","string.empty":"Password confirmation is required"};const h=i().object({username:i().string().alphanum().min(3).max(30).required().messages(d),email:i().string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}).messages(m),phone_number:i().string().pattern(/^[0-9]{10,15}$/).messages(c),address:i().string().min(3).max(100).required().messages(u),password:i().string().pattern(new RegExp("^[a-zA-Z0-9]{8,30}$")).messages(p),confirmPass:i().ref("password")}).options({abortEarly:!1}).messages(g),x=e=>{const{error:s}=h.validate(e);return s?s.details.map((e=>({[e.context.key]:e.message}))).reduce(((e,s)=>({...e,...s}))):null};var w=a(9441),b=a(3172);const v=async e=>(await w.A.post(`${b.A}/signup`,e)).data;var y=a(3090);const j=e=>Object.keys(e).some((s=>!e[s]));function f(){const{signUp:e}=(0,r.useContext)(o.F),[s,a]=(0,r.useState)({username:"",email:"",phone_number:"",address:"",password:"",confirmPass:""}),[l,i]=(0,r.useState)(null),[d,m]=(0,r.useState)(!0);(0,r.useEffect)((()=>{j(s)||l?m(!0):m(!1)}),[s,l]);const c=(0,t.Zp)(),u=(0,r.useCallback)((e=>{const r=x({...s,[e.target.name]:e.target.value});i(r),a({...s,[e.target.name]:e.target.value})}),[s]),p=(0,r.useMemo)((()=>[{label:"Username",value:s.username,name:"username",type:"text",className:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter Username",icon:(0,y.jsx)("span",{className:"absolute inset-y-0 end-0 grid place-content-center px-4",children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),error:null===l||void 0===l?void 0:l.username,onChange:u},{label:"Email",value:s.email,name:"email",type:"email",className:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter email",icon:(0,y.jsx)("span",{className:"absolute inset-y-0 end-0 grid place-content-center px-4",children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),error:null===l||void 0===l?void 0:l.email,onChange:u},{label:"Phone Number",value:s.phone_number,name:"phone_number",type:"phone_number",className:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter Phone",icon:(0,y.jsx)("span",{className:"absolute inset-y-0 end-0 grid place-content-center px-4",children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),error:null===l||void 0===l?void 0:l.phone_number,onChange:u},{label:"Address",value:s.address,name:"address",type:"address",className:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter Address",icon:(0,y.jsx)("span",{className:"absolute inset-y-0 end-0 grid place-content-center px-4",children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),error:null===l||void 0===l?void 0:l.address,onChange:u},{label:"Password",value:s.password,name:"password",type:"password",className:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter password",icon:(0,y.jsx)("span",{className:"absolute inset-y-0 end-0 grid place-content-center px-4",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),error:null===l||void 0===l?void 0:l.password,onChange:u},{label:"Cofirm Password",value:s.confirmPass,name:"confirmPass",type:"password",className:"w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm",placeholder:"Enter password",icon:(0,y.jsx)("span",{className:"absolute inset-y-0 end-0 grid place-content-center px-4",children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),error:null===l||void 0===l?void 0:l.confirmPass,onChange:u}]),[s.username,s.password,s.address,s.phone_number,s.email,s.confirmPass,l,u]);return(0,y.jsxs)("div",{className:"w-full px-4 py-12 sm:px-6 sm:py-16 lg:w-1/2 lg:px-8 lg:py-24",children:[(0,y.jsxs)("div",{className:"mx-auto max-w-lg text-center",children:[(0,y.jsx)("h1",{className:"text-2xl font-bold sm:text-3xl",children:"Get started today!"}),(0,y.jsx)("p",{className:"mt-4 text-gray-500",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Et libero nulla eaque error neque ipsa culpa autem, at itaque nostrum!"})]}),(0,y.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),i(null),!l){delete s.confirmPass;const a=await v(s);console.log(a.status),"success"===a.status&&(console.log("is successful"),e(a.user,a.token,c))}},className:"mx-auto mb-0 mt-8 max-w-md space-y-4",children:[p.map((e=>(0,y.jsx)(k,{...e},e.name))),(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("p",{className:"text-sm text-gray-500",children:["You Have an account already",(0,y.jsx)(n.N_,{className:"underline",to:"/auth",children:"Sign in"})]}),(0,y.jsx)("button",{disabled:d,type:"submit",className:"disabled:opacity-50  disabled:cursor-not-allowed inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white",children:"Sign Up"})]})]})]})}function k(e){let{label:s,type:a,name:n,value:t,onChange:o,className:l,placeholder:i,icon:d,error:m}=e;const[c,u]=(0,r.useState)(!1);return(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{htmlFor:"email",className:"sr-only",children:s}),(0,y.jsxs)("div",{className:"relative",children:[(0,y.jsx)("input",{type:a,name:n,value:t,onChange:o,className:l,placeholder:i,onBlur:()=>u(!0),onFocus:()=>u(!1)}),d]}),m&&c&&t&&(0,y.jsx)("div",{class:"p-4 my-4  text-sm text-red-800 rounded-lg bg-red-50",role:"alert",children:m})]})}}}]);
//# sourceMappingURL=210.c3d7d1bd.chunk.js.map